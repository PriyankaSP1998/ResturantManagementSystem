{"ast":null,"code":"import * as ActionType from \"/home/priyanka/react-appl/src/Redux/ActionTypes.js\";\nimport { baseUrl } from \"/home/priyanka/react-appl/src/baseUrl.js\";\nexport const addComment = comment => ({\n  type: ActionType.ADD_COMMENTS,\n  payload: comment\n});\nexport const addFeedback = feedback => ({\n  type: ActionType.ADD_FEEDBACK,\n  payload: feedback\n});\nexport const postFeedback = (firstname, lastname, telnum, email, agree, contactType, message) => {\n  const newFeedback = {\n    firstname: firstname,\n    lastname: lastname,\n    tel\n  };\n};\nexport const postComment = (dishId, rating, author, comment) => dispatch => {\n  const newComment = {\n    dishId: dishId,\n    rating: rating,\n    author: author,\n    comment: comment\n  };\n  newComment.date = new Date().toISOString();\n  return fetch(baseUrl + 'comments', {\n    method: 'POST',\n    body: JSON.stringify(newComment),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'same-origin'\n  }).then(response => {\n    if (response.ok) {\n      return response;\n    } else {\n      const error = new Error('Error' + response.status + ': ' + response.statusText);\n      error.response = response;\n      throw error;\n    }\n  }, error => {\n    const errmsg = new Error(error.message);\n    throw errmsg;\n  }).then(response => response.json()).then(response => dispatch(addComment(response))).catch(error => {\n    console.log(\"post error\" + error.message);\n    alert(\"your comment cannot be posted \\n Error\" + error.message);\n  });\n};\nexport const featchDishes = () => dispatch => {\n  dispatch(dishLoading(false));\n  return fetch(baseUrl + 'dishes').then(response => {\n    if (response.ok) {\n      return response;\n    } else {\n      const error = new Error('Error' + response.status + ': ' + response.statusText);\n      error.response = response;\n      throw error;\n    }\n  }, error => {\n    const errmsg = new Error(error.message);\n    throw errmsg;\n  }).then(response => response.json()).then(dishes => dispatch(addDishes(dishes))).catch(error => {\n    dispatch(dishesFailed(error.message));\n  });\n};\nexport const dishLoading = () => ({\n  type: ActionType.DISHES_LOADING\n});\nexport const dishesFailed = errmsg => ({\n  type: ActionType.DISHES_FAILED,\n  payload: errmsg\n});\nexport const addDishes = dishes => ({\n  type: ActionType.ADD_DISHES,\n  payload: dishes\n});\nexport const featchComments = () => dispatch => {\n  return fetch(baseUrl + 'comments').then(response => {\n    if (response.ok) {\n      return response;\n    } else {\n      const error = new Error('Error' + response.status + ': ' + response.statusText);\n      error.response = response;\n      throw error;\n    }\n  }, error => {\n    const errmsg = new Error(error.message);\n    throw errmsg;\n  }).then(response => response.json()).then(comments => dispatch(addComments(comments))).catch(error => {\n    dispatch(commentsFailed(error.message));\n  });\n};\nexport const commentsFailed = errmsg => ({\n  type: ActionType.COMMENTS_FAILED,\n  payload: errmsg\n});\nexport const addComments = comments => ({\n  type: ActionType.ADD_COMMENT,\n  payload: comments\n});\nexport const featchPromos = () => dispatch => {\n  dispatch(promosLoading(false));\n  return fetch(baseUrl + 'promotions').then(response => {\n    if (response.ok) {\n      return response;\n    } else {\n      const error = new Error('Error' + response.status + ': ' + response.statusText);\n      error.response = response;\n      throw error;\n    }\n  }, error => {\n    const errmsg = new Error(error.message);\n    throw errmsg;\n  }).then(response => response.json()).then(promotions => dispatch(addPromos(promotions))).catch(error => {\n    dispatch(promosFailed(error.message));\n  });\n};\nexport const promosLoading = () => ({\n  type: ActionType.PROMOS_LOADING\n});\nexport const promosFailed = errmsg => ({\n  type: ActionType.PROMOS_FAILED,\n  payload: errmsg\n});\nexport const addPromos = promotions => ({\n  type: ActionType.ADD_PROMOS,\n  payload: promotions\n});","map":{"version":3,"sources":["/home/priyanka/react-appl/src/Redux/ActionCreator.js"],"names":["ActionType","baseUrl","addComment","comment","type","ADD_COMMENTS","payload","addFeedback","feedback","ADD_FEEDBACK","postFeedback","firstname","lastname","telnum","email","agree","contactType","message","newFeedback","tel","postComment","dishId","rating","author","dispatch","newComment","date","Date","toISOString","fetch","method","body","JSON","stringify","headers","credentials","then","response","ok","error","Error","status","statusText","errmsg","json","catch","console","log","alert","featchDishes","dishLoading","dishes","addDishes","dishesFailed","DISHES_LOADING","DISHES_FAILED","ADD_DISHES","featchComments","comments","addComments","commentsFailed","COMMENTS_FAILED","ADD_COMMENT","featchPromos","promosLoading","promotions","addPromos","promosFailed","PROMOS_LOADING","PROMOS_FAILED","ADD_PROMOS"],"mappings":"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","sourcesContent":["import * as ActionType from \"/home/priyanka/react-appl/src/Redux/ActionTypes.js\";\nimport {baseUrl} from \"/home/priyanka/react-appl/src/baseUrl.js\";\n\nexport const addComment = ( comment) =>\n    ({\n        type: ActionType.ADD_COMMENTS,\n        payload:comment\n    });\n\nexport const addFeedback=(feedback)=>\n(\n    {\n        type:ActionType.ADD_FEEDBACK,\n        payload:feedback\n    }\n);\nexport const postFeedback=(firstname,lastname,telnum,email,agree,contactType,message)=>{\n    const newFeedback={\n        firstname:firstname,\n        lastname:lastname,\n        tel\n    }\n}\nexport const postComment=(dishId,rating,author,comment)=>(dispatch)=>\n{\n    const newComment=\n    {\n        dishId:dishId,\n        rating:rating,\n        author:author,\n        comment:comment\n    }\n    newComment.date=new Date().toISOString();\n    return fetch(baseUrl+'comments',{\n        method:'POST',\n        body:JSON.stringify(newComment),\n        headers:{\n            'Content-Type':'application/json'\n        },\n        credentials:'same-origin'\n    })\n    .then(response=>{\n        if(response.ok)\n        {\n            return response;\n        }\n        else{\n            const error=new Error('Error'+response.status+': ' +response.statusText);\n            error.response=response;\n            throw error;\n        }\n    },\n    error=>{\n     const   errmsg=new Error(error.message);\n        throw errmsg;\n    })\n    .then(response=>response.json())\n    .then(response=>dispatch(addComment(response)))\n    .catch(error=>{\n        console.log(\"post error\"+error.message)\n        alert(\"your comment cannot be posted \\n Error\"+error.message);\n    })\n}\n\n\n export const featchDishes=()=>(dispatch)=>\n {\n     dispatch(dishLoading(false));\n    return fetch(baseUrl+'dishes')\n    .then(response=>{\n        if(response.ok)\n        {\n            return response;\n        }\n        else{\n            const error=new Error('Error'+response.status+': ' +response.statusText);\n            error.response=response;\n            throw error;\n        }\n    },\n    error=>{\n     const   errmsg=new Error(error.message);\n        throw errmsg;\n    }\n    )\n    .then(response=>response.json())\n    .then(dishes=>dispatch(addDishes(dishes)))\n    .catch(error=>{dispatch(dishesFailed(error.message))})\n }\n \n export const dishLoading=()=>({\n     type:ActionType.DISHES_LOADING\n });\n export const dishesFailed=(errmsg)=>({\n        type:ActionType.DISHES_FAILED,\n        payload:errmsg\n });\n export const addDishes=(dishes)=>(\n     {\n        \n         type:ActionType.ADD_DISHES,\n         payload:dishes\n     }\n )\n export const featchComments=()=>(dispatch)=>\n {\n    return fetch(baseUrl+'comments')\n    .then(response=>{\n        if(response.ok)\n        {\n            return response;\n        }\n        else{\n            const error=new Error('Error'+response.status+': ' +response.statusText);\n            error.response=response;\n            throw error;\n        }\n    },\n    error=>{\n       const  errmsg=new Error(error.message);\n        throw errmsg;\n    }\n    )\n    .then(response=>response.json())\n    .then(comments=>dispatch(addComments(comments)))\n    .catch(error=>{dispatch(commentsFailed(error.message))})\n }\n\n export const commentsFailed=(errmsg)=>({\n    type:ActionType.COMMENTS_FAILED,\n    payload:errmsg\n});\nexport const addComments=(comments)=>(\n {\n    \n     type:ActionType.ADD_COMMENT,\n     payload:comments\n }\n)\n\nexport const featchPromos=()=>(dispatch)=>\n {\n     dispatch(promosLoading(false));\n    return fetch(baseUrl+'promotions')\n    .then(response=>{\n        if(response.ok)\n        {\n            return response;\n        }\n        else{\n            const error=new Error('Error'+response.status+': ' +response.statusText);\n            error.response=response;\n            throw error;\n        }\n    },\n    error=>{\n      const  errmsg=new Error(error.message);\n        throw errmsg;\n    }\n    )\n    .then(response=>response.json())\n    .then(promotions=>dispatch(addPromos(promotions)))\n    .catch(error=>{dispatch(promosFailed(error.message))})\n }\n \n export const promosLoading=()=>({\n     type:ActionType.PROMOS_LOADING\n });\n export const promosFailed=(errmsg)=>({\n        type:ActionType.PROMOS_FAILED,\n        payload:errmsg\n });\n export const addPromos=(promotions)=>(\n     {\n        \n         type:ActionType.ADD_PROMOS,\n         payload:promotions\n     }\n )"]},"metadata":{},"sourceType":"module"}